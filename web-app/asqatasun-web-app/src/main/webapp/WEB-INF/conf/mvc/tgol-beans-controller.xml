<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
           http://www.springframework.org/schema/context
           http://www.springframework.org/schema/context/spring-context-3.0.xsd">

    <context:component-scan base-package="org.asqatasun.webapp.controller"/>

    <bean id="homeController" class="org.asqatasun.webapp.controller.HomeController">
        <property name="displayOptionFieldsBuilderList">
            <list>
                <ref bean="displayContractElementSelectFormFieldBuilder"/>
                <ref bean="displayContractOrderSelectFormFieldBuilder"/>
                <ref bean="inclusionRegexpContractFormFieldBuilder"/>
                <ref bean="exclusionRegexpContractFormFieldBuilder"/>
            </list>
        </property>
    </bean>

    <bean id="abstractAuditResultController" abstract="true">
        <property name="parametersToDisplay">
            <map>
                <entry key="LEVEL">
                    <value>level</value>
                </entry>
                <entry key="DATA_TABLE_MARKER">
                    <value>data-table</value>
                </entry>
                <entry key="COMPLEX_TABLE_MARKER">
                    <value>complex-table</value>
                </entry>
                <entry key="PRESENTATION_TABLE_MARKER">
                    <value>presentation-table</value>
                </entry>
                <entry key="DECORATIVE_IMAGE_MARKER">
                    <value>decorative-image</value>
                </entry>
                <entry key="INFORMATIVE_IMAGE_MARKER">
                    <value>informative-image</value>
                </entry>
                <entry key="ALTERNATIVE_CONTRAST_MECHANISM">
                    <value>contrast-alternative</value>
                </entry>
                <entry key="SCREEN_WIDTH">
                    <value>screen-width</value>
                </entry>
                <entry key="SCREEN_HEIGHT">
                    <value>screen-height</value>
                </entry>
            </map>
        </property>
    </bean>
    
    <bean id="auditResultController" class="org.asqatasun.webapp.controller.AuditResultController" parent="abstractAuditResultController">
        <property name="formFieldBuilderList">
            <list>
                <ref bean="aw22ThemeSelectFormFieldBuilder"/>
                <ref bean="rgaa30ThemeSelectFormFieldBuilder"/>
                <ref bean="testResultCheckboxFormFieldBuilder"/>
            </list>
        </property>
    </bean>

    <bean id="manualAuditController" class="org.asqatasun.webapp.controller.ManualAuditController"
            parent="abstractAuditResultController">
        <property name="formFieldBuilderList">
            <list>
                <ref bean="aw22ThemeSelectFormFieldBuilder"/>
                <ref bean="rgaa30ThemeSelectFormFieldBuilder"/>
                <ref bean="testResultCheckboxFormFieldBuilder"/>
            </list>
        </property>
    </bean>
    
    <bean id="auditSynthesisController" class="org.asqatasun.webapp.controller.AuditSynthesisController">
         <property name="parametersToDisplay">
            <map>
                <entry key="LEVEL">
                    <value>level</value>
                </entry>
                <entry key="DEPTH">
                    <value>depth</value>
                </entry>
                <entry key="MAX_DURATION">
                    <value>max-duration</value>
                </entry>
                <entry key="MAX_DOCUMENTS">
                    <value>max-documents</value>
                </entry>
                <entry key="EXCLUSION_REGEXP">
                    <value>exclusion-regexp</value>
                </entry>
                <entry key="INCLUSION_REGEXP">
                    <value>inclusion-regexp</value>
                </entry>
                <entry key="DATA_TABLE_MARKER">
                    <value>data-table</value>
                </entry>
                 <entry key="COMPLEX_TABLE_MARKER">
                    <value>complex-table</value>
                </entry>
                <entry key="PRESENTATION_TABLE_MARKER">
                    <value>presentation-table</value>
                </entry>
                <entry key="DECORATIVE_IMAGE_MARKER">
                    <value>decorative-image</value>
                </entry>
                <entry key="INFORMATIVE_IMAGE_MARKER">
                    <value>informative-image</value>
                </entry>
                <entry key="ALTERNATIVE_CONTRAST_MECHANISM">
                    <value>contrast-alternative</value>
                </entry>
                <entry key="CONSIDER_COOKIES">
                    <value>consider-cookies</value>
                </entry>
            </map>
        </property>
    </bean>
    
    <bean id="auditSetUpController" class="org.asqatasun.webapp.controller.AuditSetUpController">
        <property name="siteOptionFormFieldBuilderMap">
            <map>
                <entry key="crawl-limits">
                    <list>
                        <ref bean="depthParamBuilder"/>
                        <ref bean="maxDurationParamBuilder"/>
                        <ref bean="maxDocumentsParamBuilder"/>
                    </list>
                </entry>
                <entry key="crawl-options">
                    <list>
                        <ref bean="inclusionRegexpParamBuilder"/>
                        <ref bean="exclusionRegexpParamBuilder"/>
                        <ref bean="considerCookiesParamBuilder"/>
                    </list>
                </entry>
                <entry key="marker-parameters">
                    <list>
                        <ref bean="dataTableParamBuilder"/>
                        <ref bean="presentationTableParamBuilder"/>
                        <ref bean="complexTableParamBuilder"/>
                        <ref bean="decorativeImageParamBuilder"/>
                        <ref bean="informativeImageParamBuilder"/>
                    </list>
                </entry>
                <entry key="contrast-parameters">
                    <list>
                        <ref bean="alternativeContrastMechanismPresentParamBuilder"/>
                    </list>
                </entry>
            </map>
        </property>
        <property name="pageOptionFormFieldBuilderMap">
            <map>
                <entry key="marker-parameters">
                    <list>
                        <ref bean="dataTableParamBuilder"/>
                        <ref bean="presentationTableParamBuilder"/>
                        <ref bean="complexTableParamBuilder"/>
                        <ref bean="decorativeImageParamBuilder"/>
                        <ref bean="informativeImageParamBuilder"/>
                    </list>
                </entry>
                <entry key="resolution-parameters">
                    <list>
                        <ref bean="screenWidthParamBuilder"/>
                        <ref bean="screenHeightParamBuilder"/>
                    </list>
                </entry>
                <entry key="contrast-parameters">
                    <list>
                        <ref bean="alternativeContrastMechanismPresentParamBuilder"/>
                    </list>
                </entry>
            </map>
        </property>
        <property name="uploadOptionFormFieldBuilderMap">
            <map>
                <entry key="marker-parameters">
                    <list>
                        <ref bean="dataTableParamBuilder"/>
                        <ref bean="presentationTableParamBuilder"/>
                        <ref bean="complexTableParamBuilder"/>
                        <ref bean="decorativeImageParamBuilder"/>
                        <ref bean="informativeImageParamBuilder"/>
                    </list>
                </entry>
            </map>
        </property>
        <property name="viewFunctionalityBindingMap">
            <map>
                <entry key="audit-page-set-up">
                    <value>PAGES</value>
                </entry>    
                <entry key="audit-site-set-up">
                    <value>DOMAIN</value>
                </entry>    
                <entry key="audit-upload-set-up">
                    <value>UPLOAD</value>
                </entry>
            </map>
        </property>
    </bean>
    
    <bean id="auditScenarioController" class="org.asqatasun.webapp.controller.AuditScenarioController">
        <property name="scenarioOptionFormFieldBuilderMap">
            <map>
                <entry key="marker-parameters">
                    <list>
                        <ref bean="dataTableParamBuilder"/>
                        <ref bean="complexTableParamBuilder"/>
                        <ref bean="presentationTableParamBuilder"/>
                        <ref bean="decorativeImageParamBuilder"/>
                        <ref bean="informativeImageParamBuilder"/>
                    </list>
                </entry>
                <entry key="resolution-parameters">
                    <list>
                        <ref bean="screenWidthParamBuilder"/>
                        <ref bean="screenHeightParamBuilder"/>
                    </list>
                </entry>
                <entry key="contrast-parameters">
                    <list>
                        <ref bean="alternativeContrastMechanismPresentParamBuilder"/>
                    </list>
                </entry>
            </map>
        </property>
        <property name="viewFunctionalityBindingMap">
            <map>
                <entry key="audit-scenario-set-up">
                    <value>SCENARIO</value>
                </entry>
            </map>
        </property>
    </bean>

    <bean id="auditExportResultController" class="org.asqatasun.webapp.controller.AuditExportResultController">
        <property name="parametersToDisplay">
            <map>
                <entry key="LEVEL">
                    <value>level</value>
                </entry>
            </map>
        </property>
    </bean>
    
    
    <bean id="userManagementController" class="org.asqatasun.webapp.controller.UserManagementController">
        <property name="contractOptionFormFieldBuilderMap">
            <map>
                <entry key="general-options">
                    <list>
                        <ref bean="nbMaxAuditsPerContractOptionBuilder"/>
                        <ref bean="nbMaxPagesAuditsPerContractOptionBuilder"/>
                        <ref bean="nbMaxDomainAuditsPerContractOptionBuilder"/>
                        <ref bean="nbMaxUploadAuditsPerContractOptionBuilder"/>
                        <ref bean="nbMaxScenarioAuditsPerContractOptionBuilder"/>
                        <ref bean="nbMaxActsToDisplayPerContractOptionBuilder"/>
                    </list>
                </entry>
                <entry key="crawl-options">
                    <list>
                        <ref bean="depthOptionBuilder"/>
                        <ref bean="maxDurationOptionBuilder"/>
                        <ref bean="maxDocumentsOptionBuilder"/>
                        <ref bean="exclusionRegexpOptionBuilder"/>
                    </list>
                </entry>
            </map>
        </property>
    </bean>
    
    <bean id="contractManagementController" class="org.asqatasun.webapp.controller.ContractManagementController">
        <property name="contractOptionFormFieldBuilderMap">
            <map>
                <entry key="general-options">
                    <list>
                        <ref bean="nbMaxAuditsPerContractOptionBuilder"/>
                        <ref bean="nbMaxPagesAuditsPerContractOptionBuilder"/>
                        <ref bean="nbMaxDomainAuditsPerContractOptionBuilder"/>
                        <ref bean="nbMaxUploadAuditsPerContractOptionBuilder"/>
                        <ref bean="nbMaxScenarioAuditsPerContractOptionBuilder"/>
                        <ref bean="nbMaxActsToDisplayPerContractOptionBuilder"/>
                    </list>
                </entry>
                <entry key="crawl-options">
                    <list>
                        <ref bean="depthOptionBuilder"/>
                        <ref bean="maxDurationOptionBuilder"/>
                        <ref bean="maxDocumentsOptionBuilder"/>
                        <ref bean="exclusionRegexpOptionBuilder"/>
                    </list>
                </entry>
            </map>
        </property>
    </bean>

</beans>
